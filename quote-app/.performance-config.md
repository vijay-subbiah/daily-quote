# Performance Monitoring Configuration

## Bundle Size Budgets

### JavaScript Bundles
- **Main Bundle**: Maximum 500KB (gzipped)
- **Vendor Bundle**: Maximum 300KB (gzipped)  
- **Lazy-loaded chunks**: Maximum 200KB each (gzipped)
- **Total JavaScript**: Maximum 1MB (gzipped)

### CSS Bundles
- **Main CSS**: Maximum 50KB (gzipped)
- **Component CSS**: Maximum 20KB total (gzipped)

## Lighthouse Performance Budgets

### Core Web Vitals
- **First Contentful Paint (FCP)**: < 1.8s
- **Largest Contentful Paint (LCP)**: < 2.8s  
- **Cumulative Layout Shift (CLS)**: < 0.1
- **Total Blocking Time (TBT)**: < 400ms

### Additional Metrics
- **Speed Index**: < 3.5s
- **Time to Interactive (TTI)**: < 3.8s
- **First Meaningful Paint (FMP)**: < 2.0s

### Performance Scores
- **Performance Score**: ≥ 85/100
- **Accessibility Score**: ≥ 95/100
- **Best Practices Score**: ≥ 85/100
- **SEO Score**: ≥ 85/100

## Resource Budgets

### Resource Sizes
- **Scripts**: 400KB max
- **Stylesheets**: 100KB max
- **Fonts**: 150KB max
- **Images**: 200KB max
- **Total Resources**: 1MB max

### Resource Counts
- **Scripts**: 10 files max
- **Stylesheets**: 5 files max
- **Fonts**: 3 files max
- **Images**: 15 files max
- **Third-party resources**: 5 files max

## CI/CD Performance Gates

### Build Stage
✅ Bundle size validation
✅ Webpack bundle analyzer
✅ Tree-shaking verification

### Test Stage  
✅ Performance E2E tests
✅ Core Web Vitals validation
✅ Mobile performance testing

### Deploy Stage
✅ Lighthouse CI audit
✅ Performance budget enforcement
✅ Performance regression detection

## Monitoring Alerts

### Critical (Fails CI/CD)
- Bundle size exceeds hard limits
- Lighthouse performance score < 85
- Core Web Vitals thresholds exceeded
- Performance regression > 20%

### Warning (Reported but doesn't fail)
- Bundle size approaches soft limits  
- Performance score 85-90
- Accessibility score < 95
- Best practices score < 90

## Performance Optimization Checklist

### Code Splitting
- [ ] Lazy load feature modules
- [ ] Separate vendor bundles
- [ ] Dynamic imports for large libraries

### Asset Optimization
- [ ] Image compression and WebP format
- [ ] Font subsetting and preloading
- [ ] CSS/JS minification and compression

### Caching Strategy
- [ ] Long-term caching for static assets
- [ ] Service worker implementation
- [ ] CDN configuration

### Runtime Optimization
- [ ] OnPush change detection
- [ ] TrackBy functions for ngFor
- [ ] Async pipe usage
- [ ] Tree-shaking verification
